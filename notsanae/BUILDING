32-bit library: gcc -m32 -shared -lpng -ldl -o notsanae32.so notsanae.c
64-bit library: gcc -m64 -shared -lpng -ldl -fPIC -o notsanae64.so notsanae.c

As simple as that, really.
